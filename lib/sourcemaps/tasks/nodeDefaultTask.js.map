{"version":3,"sources":["tasks/nodeDefaultTask.ts"],"names":["development_core_1","require","mocha","del","NodeDynamicTasks","prototype","tasks","name","oper","Operation","clean","default","order","task","ctx","dt","getDist","getSrc","total","test","pipes","config","option","mochaOptions","output","__decorate","dynamicTask","exports"],"mappings":"sgBAGAA,mBAAAC,QAA0E,oBAE9DC,MAAKD,QAAM,cAIjBE,IAAMF,QAAQ,OAIpBG,iBAAA,WAAA,QAAAA,MAqBA,MApBIA,GAAAC,UAAAC,MAAA,WACI,QAEQC,KAAM,QAENC,KAAMR,mBAAAS,UAAUC,MAAQV,mBAAAS,UAAUE,QAClCC,MAAO,EACPC,KAAM,SAACC,EAAKC,GAAO,MAAAZ,KAAIW,EAAIE,QAAQF,EAAIG,OAAOF,QAG9CR,KAAM,OACNK,MAAO,SAAAM,GAAS,MAAA,GAAIA,GACpBV,KAAMR,mBAAAS,UAAUU,KAAOnB,mBAAAS,UAAUE,QACjCS,OACI,SAACC,GAAW,MAAAnB,OAAwBmB,EAAOC,OAAQC,gBAEvDC,OAAQ,QAlBxBpB,EAAAqB,YAACzB,mBAAA0B,qDACYC,SAAAvB,iBAAgBA","file":"../../tasks/nodeDefaultTask.js","sourcesContent":["\r\nimport * as _ from 'lodash';\r\n// import * as path from 'path';\r\nimport { IDynamicTaskOption, Operation, IDynamicTasks, dynamicTask } from 'development-core';\r\n// import * as chalk from 'chalk';\r\nimport * as mocha from 'gulp-mocha';\r\nimport { INodeTaskOption } from '../NodeTaskOption';\r\n\r\n\r\nconst del = require('del');\r\n\r\n\r\n@dynamicTask\r\nexport class NodeDynamicTasks implements IDynamicTasks {\r\n    tasks(): IDynamicTaskOption[] {\r\n        return [\r\n            {\r\n                name: 'clean',\r\n                // cleanSrc: 'lib/**/*.js',\r\n                oper: Operation.clean | Operation.default,\r\n                order: 0,\r\n                task: (ctx, dt) => del(ctx.getDist(ctx.getSrc(dt)))\r\n            },\r\n            {\r\n                name: 'test',\r\n                order: total => 2 / total,\r\n                oper: Operation.test | Operation.default,\r\n                pipes: [\r\n                    (config) => mocha((<INodeTaskOption>config.option).mochaOptions)\r\n                ],\r\n                output: null\r\n            }\r\n        ];\r\n    }\r\n}\r\n"]}